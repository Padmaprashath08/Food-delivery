{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ManageRestaurants=_ref=>{let{user,logout}=_ref;const[restaurants,setRestaurants]=useState([]);useEffect(()=>{fetchRestaurants();},[]);const fetchRestaurants=async()=>{try{const response=await axios.get('http://localhost:3001/api/restaurants');setRestaurants(response.data);}catch(error){console.error('Error fetching restaurants:',error);}};const deleteRestaurant=async id=>{if(window.confirm('Are you sure you want to delete this restaurant?')){try{await axios.delete(\"http://localhost:3001/api/restaurants/\".concat(id));fetchRestaurants();alert('Restaurant deleted successfully!');}catch(error){alert('Error deleting restaurant');}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"page-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Manage Restaurants\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-nav\",children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/add-restaurant\",className:\"nav-link primary\",children:\"+ Add Restaurant\"}),/*#__PURE__*/_jsx(Link,{to:\"/admin/menus\",className:\"nav-link\",children:\"Manage Menus\"}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"logout-btn\",children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"restaurants-grid\",children:restaurants.map(restaurant=>/*#__PURE__*/_jsxs(\"div\",{className:\"restaurant-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:restaurant.name}),/*#__PURE__*/_jsx(\"span\",{className:\"restaurant-type\",children:restaurant.type})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"restaurant-info\",children:[/*#__PURE__*/_jsx(\"p\",{children:restaurant.address}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",restaurant.rating,\"/5\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-actions\",children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/menus/\".concat(restaurant._id),className:\"action-btn manage-btn\",children:\"Manage Menu\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteRestaurant(restaurant._id),className:\"action-btn delete-btn\",children:\"Delete\"})]})]},restaurant._id))}),restaurants.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"No restaurants found\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Start by adding your first restaurant\"}),/*#__PURE__*/_jsx(Link,{to:\"/admin/add-restaurant\",className:\"empty-action-btn\",children:\"+ Add Restaurant\"})]})]})]});};export default ManageRestaurants;","map":{"version":3,"names":["React","useState","useEffect","Link","axios","jsx","_jsx","jsxs","_jsxs","ManageRestaurants","_ref","user","logout","restaurants","setRestaurants","fetchRestaurants","response","get","data","error","console","deleteRestaurant","id","window","confirm","delete","concat","alert","className","children","to","onClick","map","restaurant","name","type","address","rating","_id","length"],"sources":["c:/Users/padma/Documents/Food Delivery Application/frontend/src/components/ManageRestaurants.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nconst ManageRestaurants = ({ user, logout }) => {\n  const [restaurants, setRestaurants] = useState([]);\n\n  useEffect(() => {\n    fetchRestaurants();\n  }, []);\n\n  const fetchRestaurants = async () => {\n    try {\n      const response = await axios.get('http://localhost:3001/api/restaurants');\n      setRestaurants(response.data);\n    } catch (error) {\n      console.error('Error fetching restaurants:', error);\n    }\n  };\n\n  const deleteRestaurant = async (id) => {\n    if (window.confirm('Are you sure you want to delete this restaurant?')) {\n      try {\n        await axios.delete(`http://localhost:3001/api/restaurants/${id}`);\n        fetchRestaurants();\n        alert('Restaurant deleted successfully!');\n      } catch (error) {\n        alert('Error deleting restaurant');\n      }\n    }\n  };\n\n  return (\n    <div className=\"page-container\">\n      <header className=\"page-header\">\n        <h1>Manage Restaurants</h1>\n        <div className=\"header-nav\">\n          <Link to=\"/admin/add-restaurant\" className=\"nav-link primary\">+ Add Restaurant</Link>\n          <Link to=\"/admin/menus\" className=\"nav-link\">Manage Menus</Link>\n          <button onClick={logout} className=\"logout-btn\">Logout</button>\n        </div>\n      </header>\n\n      <div className=\"page-content\">\n        <div className=\"restaurants-grid\">\n          {restaurants.map(restaurant => (\n            <div key={restaurant._id} className=\"restaurant-card\">\n              <div className=\"card-header\">\n                <h3>{restaurant.name}</h3>\n                <span className=\"restaurant-type\">{restaurant.type}</span>\n              </div>\n              \n              <div className=\"card-body\">\n                <div className=\"restaurant-info\">\n                  <p>{restaurant.address}</p>\n                  <p> {restaurant.rating}/5</p>\n                </div>\n              </div>\n              \n              <div className=\"card-actions\">\n                <Link \n                  to={`/admin/menus/${restaurant._id}`} \n                  className=\"action-btn manage-btn\"\n                >\n                  Manage Menu\n                </Link>\n                <button \n                  onClick={() => deleteRestaurant(restaurant._id)}\n                  className=\"action-btn delete-btn\"\n                >\n                  Delete\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {restaurants.length === 0 && (\n          <div className=\"empty-state\">\n            <h3>No restaurants found</h3>\n            <p>Start by adding your first restaurant</p>\n            <Link to=\"/admin/add-restaurant\" className=\"empty-action-btn\">\n              + Add Restaurant\n            </Link>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ManageRestaurants;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}