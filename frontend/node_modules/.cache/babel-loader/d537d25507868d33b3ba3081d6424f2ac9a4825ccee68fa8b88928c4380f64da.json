{"ast":null,"code":"import _objectSpread from\"c:/Users/padma/Documents/Food Delivery Application/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Cart=_ref=>{let{user,logout}=_ref;const[cart,setCart]=useState(JSON.parse(localStorage.getItem('cart'))||[]);const navigate=useNavigate();const updateQuantity=(itemId,quantity)=>{if(quantity===0){removeFromCart(itemId);}else{const updatedCart=cart.map(item=>item._id===itemId?_objectSpread(_objectSpread({},item),{},{quantity}):item);setCart(updatedCart);localStorage.setItem('cart',JSON.stringify(updatedCart));}};const removeFromCart=itemId=>{const updatedCart=cart.filter(item=>item._id!==itemId);setCart(updatedCart);localStorage.setItem('cart',JSON.stringify(updatedCart));};const getTotalPrice=()=>{return cart.reduce((total,item)=>total+item.price*item.quantity,0);};const proceedToCheckout=()=>{if(cart.length===0){alert('Your cart is empty!');return;}navigate('/user/checkout');};return/*#__PURE__*/_jsxs(\"div\",{className:\"page-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Shopping Cart\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-nav\",children:[/*#__PURE__*/_jsx(Link,{to:\"/user/restaurants\",className:\"nav-link\",children:\"\\u2190 Continue Shopping\"}),/*#__PURE__*/_jsx(Link,{to:\"/user/orders\",className:\"nav-link\",children:\"My Orders\"}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"logout-btn\",children:\"Logout\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"page-content\",children:cart.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-cart\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-cart-icon\",children:\"Cart\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Your cart is empty\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Add some delicious items to get started!\"}),/*#__PURE__*/_jsx(Link,{to:\"/user/restaurants\",className:\"continue-shopping-btn\",children:\"Browse Restaurants\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"cart-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-items\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Cart Items (\",cart.length,\")\"]}),cart.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:item.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"item-restaurant\",children:[\"from \",item.restaurantName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"item-price\",children:[\"\\u20B9\",item.price,\" each\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(item._id,item.quantity-1),className:\"qty-btn\",children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"qty-display\",children:item.quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(item._id,item.quantity+1),className:\"qty-btn\",children:\"+\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-total\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20B9\",(item.price*item.quantity).toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeFromCart(item._id),className:\"remove-btn\",children:\"\\uD83D\\uDDD1\\uFE0F\"})]})]},item._id))]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-summary\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Order Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-line\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Subtotal:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",getTotalPrice().toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-line\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Delivery Fee:\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u20B949.00\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-line\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Tax (8%):\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",(getTotalPrice()*0.08).toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-line total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",(getTotalPrice()+49+getTotalPrice()*0.08).toFixed(2)]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:proceedToCheckout,className:\"checkout-btn\",children:\"\\uD83D\\uDCB3 Proceed to Checkout\"})]})})]})})]});};export default Cart;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Cart","_ref","user","logout","cart","setCart","JSON","parse","localStorage","getItem","navigate","updateQuantity","itemId","quantity","removeFromCart","updatedCart","map","item","_id","_objectSpread","setItem","stringify","filter","getTotalPrice","reduce","total","price","proceedToCheckout","length","alert","className","children","to","onClick","name","restaurantName","toFixed"],"sources":["c:/Users/padma/Documents/Food Delivery Application/frontend/src/components/Cart.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst Cart = ({ user, logout }) => {\n  const [cart, setCart] = useState(JSON.parse(localStorage.getItem('cart')) || []);\n  const navigate = useNavigate();\n\n  const updateQuantity = (itemId, quantity) => {\n    if (quantity === 0) {\n      removeFromCart(itemId);\n    } else {\n      const updatedCart = cart.map(item => \n        item._id === itemId ? { ...item, quantity } : item\n      );\n      setCart(updatedCart);\n      localStorage.setItem('cart', JSON.stringify(updatedCart));\n    }\n  };\n\n  const removeFromCart = (itemId) => {\n    const updatedCart = cart.filter(item => item._id !== itemId);\n    setCart(updatedCart);\n    localStorage.setItem('cart', JSON.stringify(updatedCart));\n  };\n\n  const getTotalPrice = () => {\n    return cart.reduce((total, item) => total + (item.price * item.quantity), 0);\n  };\n\n  const proceedToCheckout = () => {\n    if (cart.length === 0) {\n      alert('Your cart is empty!');\n      return;\n    }\n    navigate('/user/checkout');\n  };\n\n  return (\n    <div className=\"page-container\">\n      <header className=\"page-header\">\n        <h1>Shopping Cart</h1>\n        <div className=\"header-nav\">\n          <Link to=\"/user/restaurants\" className=\"nav-link\">‚Üê Continue Shopping</Link>\n          <Link to=\"/user/orders\" className=\"nav-link\">My Orders</Link>\n          <button onClick={logout} className=\"logout-btn\">Logout</button>\n        </div>\n      </header>\n\n      <div className=\"page-content\">\n        {cart.length === 0 ? (\n          <div className=\"empty-cart\">\n            <div className=\"empty-cart-icon\">Cart</div>\n            <h2>Your cart is empty</h2>\n            <p>Add some delicious items to get started!</p>\n            <Link to=\"/user/restaurants\" className=\"continue-shopping-btn\">\n              Browse Restaurants\n            </Link>\n          </div>\n        ) : (\n          <div className=\"cart-content\">\n            <div className=\"cart-items\">\n              <h2>Cart Items ({cart.length})</h2>\n              \n              {cart.map(item => (\n                <div key={item._id} className=\"cart-item\">\n                  <div className=\"item-info\">\n                    <h4>{item.name}</h4>\n                    <p className=\"item-restaurant\">from {item.restaurantName}</p>\n                    <p className=\"item-price\">‚Çπ{item.price} each</p>\n                  </div>\n                  \n                  <div className=\"quantity-controls\">\n                    <button \n                      onClick={() => updateQuantity(item._id, item.quantity - 1)}\n                      className=\"qty-btn\"\n                    >\n                      -\n                    </button>\n                    <span className=\"qty-display\">{item.quantity}</span>\n                    <button \n                      onClick={() => updateQuantity(item._id, item.quantity + 1)}\n                      className=\"qty-btn\"\n                    >\n                      +\n                    </button>\n                  </div>\n                  \n                  <div className=\"item-total\">\n                    <p>‚Çπ{(item.price * item.quantity).toFixed(2)}</p>\n                    <button \n                      onClick={() => removeFromCart(item._id)}\n                      className=\"remove-btn\"\n                    >\n                      üóëÔ∏è\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            <div className=\"cart-summary\">\n              <div className=\"summary-card\">\n                <h3>Order Summary</h3>\n                \n                <div className=\"summary-line\">\n                  <span>Subtotal:</span>\n                  <span>‚Çπ{getTotalPrice().toFixed(2)}</span>\n                </div>\n                \n                <div className=\"summary-line\">\n                  <span>Delivery Fee:</span>\n                  <span>‚Çπ49.00</span>\n                </div>\n                \n                <div className=\"summary-line\">\n                  <span>Tax (8%):</span>\n                  <span>‚Çπ{(getTotalPrice() * 0.08).toFixed(2)}</span>\n                </div>\n                \n                <div className=\"summary-line total\">\n                  <span>Total:</span>\n                  <span>‚Çπ{(getTotalPrice() + 49 + (getTotalPrice() * 0.08)).toFixed(2)}</span>\n                </div>\n                \n                <button \n                  onClick={proceedToCheckout}\n                  className=\"checkout-btn\"\n                >\n                  üí≥ Proceed to Checkout\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Cart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}