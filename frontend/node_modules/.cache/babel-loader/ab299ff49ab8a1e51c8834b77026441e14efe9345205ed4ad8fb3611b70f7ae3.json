{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Orders=_ref=>{let{user,logout}=_ref;const[orders,setOrders]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchOrders();},[]);const fetchOrders=async()=>{try{const token=localStorage.getItem('token');const response=await axios.get('http://localhost:4002/api/orders',{headers:{Authorization:\"Bearer \".concat(token)}});setOrders(response.data);setLoading(false);}catch(error){console.error('Error fetching orders:',error);setLoading(false);}};const getStatusColor=status=>{switch(status){case'pending':return'#f39c12';case'confirmed':return'#3498db';case'preparing':return'#e67e22';case'delivered':return'#27ae60';default:return'#95a5a6';}};const getStatusIcon=status=>{switch(status){case'pending':return'‚è≥';case'confirmed':return'‚úÖ';case'preparing':return'üë®‚Äçüç≥';case'delivered':return'üöö';default:return'üìã';}};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading orders...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"page-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDCCB My Orders\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-nav\",children:[/*#__PURE__*/_jsx(Link,{to:\"/user/restaurants\",className:\"nav-link\",children:\"\\u2190 Browse Restaurants\"}),/*#__PURE__*/_jsx(Link,{to:\"/user/cart\",className:\"nav-link\",children:\"\\uD83D\\uDED2 Cart\"}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"logout-btn\",children:\"Logout\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"page-content\",children:orders.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"No orders yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Start by ordering some delicious food!\"}),/*#__PURE__*/_jsx(Link,{to:\"/user/restaurants\",className:\"empty-action-btn\",children:\"Browse Restaurants\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"orders-list\",children:orders.map(order=>/*#__PURE__*/_jsxs(\"div\",{className:\"order-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-info\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Order #\",order._id.slice(-6)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"order-restaurant\",children:[\"\\uD83D\\uDCCD \",order.restaurantName]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"order-status\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"status-badge\",style:{backgroundColor:getStatusColor(order.status)},children:[getStatusIcon(order.status),\" \",order.status.toUpperCase()]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-items\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Items Ordered:\"}),order.items.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"order-item\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[item.name,\" x\",item.quantity]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",(item.price*item.quantity).toFixed(2)]})]},index))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-footer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"order-total\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"Total: \\u20B9\",order.totalAmount.toFixed(2)]})}),/*#__PURE__*/_jsx(\"div\",{className:\"order-date\",children:new Date(order.createdAt).toLocaleDateString('en-IN',{year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'})})]})]},order._id))})})]});};export default Orders;","map":{"version":3,"names":["React","useState","useEffect","Link","axios","jsx","_jsx","jsxs","_jsxs","Orders","_ref","user","logout","orders","setOrders","loading","setLoading","fetchOrders","token","localStorage","getItem","response","get","headers","Authorization","concat","data","error","console","getStatusColor","status","getStatusIcon","className","children","to","onClick","length","map","order","_id","slice","restaurantName","style","backgroundColor","toUpperCase","items","item","index","name","quantity","price","toFixed","totalAmount","Date","createdAt","toLocaleDateString","year","month","day","hour","minute"],"sources":["c:/Users/padma/Documents/Food Delivery Application/frontend/src/components/Orders.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nconst Orders = ({ user, logout }) => {\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n\n  const fetchOrders = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get('http://localhost:4002/api/orders', {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setOrders(response.data);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching orders:', error);\n      setLoading(false);\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'pending': return '#f39c12';\n      case 'confirmed': return '#3498db';\n      case 'preparing': return '#e67e22';\n      case 'delivered': return '#27ae60';\n      default: return '#95a5a6';\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'pending': return '‚è≥';\n      case 'confirmed': return '‚úÖ';\n      case 'preparing': return 'üë®‚Äçüç≥';\n      case 'delivered': return 'üöö';\n      default: return 'üìã';\n    }\n  };\n\n  if (loading) return <div className=\"loading\">Loading orders...</div>;\n\n  return (\n    <div className=\"page-container\">\n      <header className=\"page-header\">\n        <h1>üìã My Orders</h1>\n        <div className=\"header-nav\">\n          <Link to=\"/user/restaurants\" className=\"nav-link\">‚Üê Browse Restaurants</Link>\n          <Link to=\"/user/cart\" className=\"nav-link\">üõí Cart</Link>\n          <button onClick={logout} className=\"logout-btn\">Logout</button>\n        </div>\n      </header>\n\n      <div className=\"page-content\">\n        {orders.length === 0 ? (\n          <div className=\"empty-state\">\n            <div className=\"empty-icon\">üìã</div>\n            <h2>No orders yet</h2>\n            <p>Start by ordering some delicious food!</p>\n            <Link to=\"/user/restaurants\" className=\"empty-action-btn\">\n              Browse Restaurants\n            </Link>\n          </div>\n        ) : (\n          <div className=\"orders-list\">\n            {orders.map(order => (\n              <div key={order._id} className=\"order-card\">\n                <div className=\"order-header\">\n                  <div className=\"order-info\">\n                    <h3>Order #{order._id.slice(-6)}</h3>\n                    <p className=\"order-restaurant\">üìç {order.restaurantName}</p>\n                  </div>\n                  <div className=\"order-status\">\n                    <span \n                      className=\"status-badge\"\n                      style={{ backgroundColor: getStatusColor(order.status) }}\n                    >\n                      {getStatusIcon(order.status)} {order.status.toUpperCase()}\n                    </span>\n                  </div>\n                </div>\n\n                <div className=\"order-items\">\n                  <h4>Items Ordered:</h4>\n                  {order.items.map((item, index) => (\n                    <div key={index} className=\"order-item\">\n                      <span>{item.name} x{item.quantity}</span>\n                      <span>‚Çπ{(item.price * item.quantity).toFixed(2)}</span>\n                    </div>\n                  ))}\n                </div>\n\n                <div className=\"order-footer\">\n                  <div className=\"order-total\">\n                    <strong>Total: ‚Çπ{order.totalAmount.toFixed(2)}</strong>\n                  </div>\n                  <div className=\"order-date\">\n                    {new Date(order.createdAt).toLocaleDateString('en-IN', {\n                      year: 'numeric',\n                      month: 'long',\n                      day: 'numeric',\n                      hour: '2-digit',\n                      minute: '2-digit'\n                    })}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Orders;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}