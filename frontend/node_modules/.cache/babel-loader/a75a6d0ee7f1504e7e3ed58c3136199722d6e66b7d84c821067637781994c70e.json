{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import Login from'./components/Login';import AddRestaurant from'./components/AddRestaurant';import ManageRestaurants from'./components/ManageRestaurants';import ManageMenus from'./components/ManageMenus';import BrowseRestaurants from'./components/BrowseRestaurants';import RestaurantMenu from'./components/RestaurantMenu';import Cart from'./components/Cart';import Checkout from'./components/Checkout';import Orders from'./components/Orders';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const token=localStorage.getItem('token');const userData=localStorage.getItem('user');if(token&&userData){setUser(JSON.parse(userData));}setLoading(false);},[]);const logout=()=>{localStorage.removeItem('token');localStorage.removeItem('user');localStorage.removeItem('cart');setUser(null);};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"});return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:!user?/*#__PURE__*/_jsx(Login,{setUser:setUser}):/*#__PURE__*/_jsx(Navigate,{to:user.role==='admin'?'/admin/restaurants':'/user/restaurants'})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/restaurants\",element:user&&user.role==='admin'?/*#__PURE__*/_jsx(ManageRestaurants,{user:user,logout:logout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/add-restaurant\",element:user&&user.role==='admin'?/*#__PURE__*/_jsx(AddRestaurant,{user:user,logout:logout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/menus\",element:user&&user.role==='admin'?/*#__PURE__*/_jsx(ManageMenus,{user:user,logout:logout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/menus/:restaurantId\",element:user&&user.role==='admin'?/*#__PURE__*/_jsx(ManageMenus,{user:user,logout:logout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/user/restaurants\",element:user&&user.role==='user'?/*#__PURE__*/_jsx(BrowseRestaurants,{user:user,logout:logout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/user/restaurant/:restaurantId\",element:user&&user.role==='user'?/*#__PURE__*/_jsx(RestaurantMenu,{user:user,logout:logout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/user/cart\",element:user&&user.role==='user'?/*#__PURE__*/_jsx(Cart,{user:user,logout:logout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/user/checkout\",element:user&&user.role==='user'?/*#__PURE__*/_jsx(Checkout,{user:user,logout:logout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/user/orders\",element:user&&user.role==='user'?/*#__PURE__*/_jsx(Orders,{user:user,logout:logout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Login","AddRestaurant","ManageRestaurants","ManageMenus","BrowseRestaurants","RestaurantMenu","Cart","Checkout","Orders","jsx","_jsx","jsxs","_jsxs","App","user","setUser","loading","setLoading","token","localStorage","getItem","userData","JSON","parse","logout","removeItem","className","children","path","element","to","role"],"sources":["c:/Users/padma/Documents/Food Delivery Application/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport Login from './components/Login';\nimport AddRestaurant from './components/AddRestaurant';\nimport ManageRestaurants from './components/ManageRestaurants';\nimport ManageMenus from './components/ManageMenus';\nimport BrowseRestaurants from './components/BrowseRestaurants';\nimport RestaurantMenu from './components/RestaurantMenu';\nimport Cart from './components/Cart';\nimport Checkout from './components/Checkout';\nimport Orders from './components/Orders';\nimport './App.css';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const userData = localStorage.getItem('user');\n    if (token && userData) {\n      setUser(JSON.parse(userData));\n    }\n    setLoading(false);\n  }, []);\n\n  const logout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    localStorage.removeItem('cart');\n    setUser(null);\n  };\n\n  if (loading) return <div className=\"loading\">Loading...</div>;\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Routes>\n          <Route \n            path=\"/login\" \n            element={!user ? <Login setUser={setUser} /> : <Navigate to={user.role === 'admin' ? '/admin/restaurants' : '/user/restaurants'} />} \n          />\n          \n          {/* Admin Routes */}\n          <Route \n            path=\"/admin/restaurants\" \n            element={user && user.role === 'admin' ? <ManageRestaurants user={user} logout={logout} /> : <Navigate to=\"/login\" />} \n          />\n          <Route \n            path=\"/admin/add-restaurant\" \n            element={user && user.role === 'admin' ? <AddRestaurant user={user} logout={logout} /> : <Navigate to=\"/login\" />} \n          />\n          <Route \n            path=\"/admin/menus\" \n            element={user && user.role === 'admin' ? <ManageMenus user={user} logout={logout} /> : <Navigate to=\"/login\" />} \n          />\n          <Route \n            path=\"/admin/menus/:restaurantId\" \n            element={user && user.role === 'admin' ? <ManageMenus user={user} logout={logout} /> : <Navigate to=\"/login\" />} \n          />\n          \n          {/* User Routes */}\n          <Route \n            path=\"/user/restaurants\" \n            element={user && user.role === 'user' ? <BrowseRestaurants user={user} logout={logout} /> : <Navigate to=\"/login\" />} \n          />\n          <Route \n            path=\"/user/restaurant/:restaurantId\" \n            element={user && user.role === 'user' ? <RestaurantMenu user={user} logout={logout} /> : <Navigate to=\"/login\" />} \n          />\n          <Route \n            path=\"/user/cart\" \n            element={user && user.role === 'user' ? <Cart user={user} logout={logout} /> : <Navigate to=\"/login\" />} \n          />\n          <Route \n            path=\"/user/checkout\" \n            element={user && user.role === 'user' ? <Checkout user={user} logout={logout} /> : <Navigate to=\"/login\" />} \n          />\n          <Route \n            path=\"/user/orders\" \n            element={user && user.role === 'user' ? <Orders user={user} logout={logout} /> : <Navigate to=\"/login\" />} \n          />\n          \n          <Route path=\"/\" element={<Navigate to=\"/login\" />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}